{% extends "base.html" %}
{% load static %}
{% load custom_filters %}

{% block title %}Attempt to Goal Dashboard{% endblock %}

{% block content %}
<ul>
  {% for player, goals in top_scorers %}
    <li><strong>{{ player }}</strong>: {{ goals }} goal{{ goals|pluralize }}</li>
  {% empty %}
    <li>No goals recorded</li>
  {% endfor %}
</ul>

<hr>

<h2>GOAL ATTEMPTS</h2>
<table border="1" cellpadding="8" cellspacing="0" style="border-collapse: collapse; width: 100%;">
  <thead>
    <tr>
      <th>Player</th>
      <th>On Target Goal</th>
      <th>On Target Saved</th>
      <th>Off Target</th>
      <th>Blocked</th>
      <th>Player Error</th>
    </tr>
  </thead>
  <tbody>
    {% for player in players %}
      <tr>
        <td>{{ player.name }}</td>
        <td>{{ outcomes_matrix|get_item:player.id|get_item:"On Target Goal"|default:0 }}</td>
        <td>{{ outcomes_matrix|get_item:player.id|get_item:"On Target Saved"|default:0 }}</td>
        <td>{{ outcomes_matrix|get_item:player.id|get_item:"Off Target"|default:0 }}</td>
        <td>{{ outcomes_matrix|get_item:player.id|get_item:"Blocked"|default:0 }}</td>
        <td>{{ outcomes_matrix|get_item:player.id|get_item:"Player Error"|default:0 }}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
