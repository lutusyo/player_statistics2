{% load static %}

<link rel="stylesheet" href="{% static 'matches_app/css/lineup.css' %}">

<div class="lineup-section">
  <h3>ğŸ§¾ Lineup</h3>

  <!-- Starting XI -->
  <div class="lineup-group">
    <h4 class="starting-title">ğŸŸ¢ Starting XI</h4>
    {% with starting_players=player_stats|dictsort:"player.name" %}
      {% if starting_players %}
        <ul class="lineup-list">
          {% for stat in starting_players %}
            {% if stat.is_starting %}
              <li class="lineup-item">
                <img src="{{ stat.player.photo.url }}" alt="{{ stat.player.name }}" class="lineup-photo">
                <span class="lineup-name">{{ stat.player.name }} ({{ stat.minutes_played }} min)</span>
              </li>
            {% endif %}
          {% endfor %}
        </ul>
      {% else %}
        <p>No starting players recorded.</p>
      {% endif %}
    {% endwith %}
  </div>

  <!-- Substitutes -->
  <div class="lineup-group">
    <h4 class="sub-title">ğŸŸ  Substitutes</h4>
    {% with subs=player_stats|dictsort:"player.name" %}
      {% if subs %}
        <ul class="lineup-list">
          {% for stat in subs %}
            {% if not stat.is_starting %}
              <li class="lineup-item">
                <img src="{{ stat.player.photo.url }}" alt="{{ stat.player.name }}" class="lineup-photo">
                <span class="lineup-name">{{ stat.player.name }} ({{ stat.minutes_played }} min)</span>
              </li>
            {% endif %}
          {% endfor %}
        </ul>
      {% else %}
        <p>No substitutes recorded.</p>
      {% endif %}
    {% endwith %}
  </div>
</div>
