{% load static %}

<head>
  <meta charset="utf-8">
  <title>Match Key Statistics</title>
  <style>
    body { font-family:"Helvetica Neue",Arial,sans-serif; background:#efeee8; margin:12px; color:#111; }
    .container { max-width:1200px; margin:0 auto; background:#f3f2ec; border:6px solid #222; padding:20px 30px; }

    /* --- HEADER --- */
    .header { display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }
    .team-block { display:flex; align-items:center; gap:10px; }
    .team-name { font-size:28px; font-weight:700; color:#b31b1b; }  /* Home team red */
    .team-away { color:#c89b09; }
    .score { text-align:center; font-size:60px; font-weight:800; margin:0 20px; }

    /* --- POSSESSION --- */
    .possession-area { text-align:center; margin:20px 0; }
    .possession-title { font-weight:700; margin-bottom:4px; }
    .possession-bar { display:flex; width:100%; height:22px; border-radius:0; overflow:hidden; }
    .possession-home { background:#b31b1b; height:100%; text-align:left; font-size:12px; font-weight:700; color:#fff; padding-left:6px; }
    .possession-away { background:#c89b09; height:100%; text-align:right; font-size:12px; font-weight:700; color:#fff; padding-right:6px; }

    /* --- STATS GRID --- */
    .stats-grid { margin-top:20px; }
    .stat-row { display:flex; align-items:center; font-size:16px; font-weight:600; }
    .stat-left, .stat-right { width:140px; text-align:center; }
    .stat-label { flex:1; background:#111; color:#fff; padding:6px 12px; border-radius:2px; text-align:center; }
  </style>
</head>
<body>
  <div class="container">

    <!-- Header -->
    <div class="header">
      <div class="left team-block">
        {% if home.logo %}<img src="{{ home.logo.url }}" alt="{{ home.name }}" style="height:70px;">{% endif %}
        <div class="team-name">{{ home.name }}</div>
      </div>

      <div class="center" style="display:flex; flex-direction:column; align-items:center;">
        <div style="font-weight:700;">{{ match.date }} - {{ match.venue }} - {{ match.time }}</div>
        <div style="margin-top:4px; font-size:20px; font-weight:800; color:#222;">Match Summary - Key Statistics</div>
        <div class="score">
          {% for s in stats %}
            {% if s.label == "Goals" %}
              {{ s.home }} &mdash; {{ s.away }}
            {% endif %}
          {% endfor %}
        </div>
      </div>

      <div class="right team-block">
        <div class="team-name team-away">{{ away.name }}</div>
        {% if away.logo %}<img src="{{ away.logo.url }}" alt="{{ away.name }}" style="height:70px;">{% endif %}
      </div>
    </div>

    <!-- Possession -->
    <div class="possession-area">
      <div class="possession-title">Possession</div>
      <div class="possession-bar">
        <div class="possession-home" style="width: {{ possession_home_pct }}%">{{ possession_home_pct }}%</div>
        <div class="possession-away" style="width: {{ possession_away_pct }}%">{{ possession_away_pct }}%</div>
      </div>
    </div>

    <!-- Stats Grid -->
    <div class="stats-grid">
      {% for s in stats %}
        <div class="stat-row">
          <div class="stat-left">{{ s.home }}</div>
          <div class="stat-label">{{ s.label }}</div>
          <div class="stat-right">{{ s.away }}</div>
        </div>
      {% endfor %}
    </div>

  </div>
</body>

