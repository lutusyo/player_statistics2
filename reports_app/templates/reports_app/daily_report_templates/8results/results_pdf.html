{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>{{ team.name }} Results Report</title>
</head>
<body>
    <div class="team-header">
        {% if team.logo %}
            <img src="{{ team.logo.url }}" class="team-logo" alt="Logo">
        {% endif %}
        <h1>{{ team.name }}</h1>
        {% if team.age_group %}
            <h3>{{ team.age_group.name }}</h3>
        {% endif %}
        <p>Generated on: {{ generated_on|date:"Y-m-d H:i" }}</p>
    </div>

    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th>Venue</th>
                <th>Competition</th>
                <th>Opponent</th>
                <th>Score</th>
                <th>Result</th>
                <th>Goal Scorers</th>
                <th>Notes</th>
            </tr>
        </thead>
        <tbody>
            {% for r in results %}
            <tr>
                <td>{{ r.date }}</td>
                <td>{{ r.venue }}</td>
                <td>{{ r.competition_type }}</td>
                {% if r.our_team == r.home_team %}
                    <td>{{ r.away_team.name }}</td>
                {% else %}
                    <td>{{ r.home_team.name }}</td>
                {% endif %}
                <td>{{ r.home_score }} - {{ r.away_score }}</td>
                <td>{{ r.get_result_display }}</td>
                <td>{{ r.goal_scorers|default:"-" }}</td>
                <td>{{ r.notes|default:"-" }}</td>
            </tr>
            {% empty %}
            <tr><td colspan="8" style="text-align:center;">No results found</td></tr>
            {% endfor %}
        </tbody>
    </table>

    <h3>Technical Staff</h3>
    <table class="staff-table">
        {% for s in staff_members %}
            <tr>
                <td><strong>{{ s.get_role_display }}:</strong></td>
                <td>{{ s.name }}</td>
                <td>{{ s.phone|default:"-" }}</td>
            </tr>
        {% empty %}
            <tr><td colspan="3">No staff members found for this age group.</td></tr>
        {% endfor %}
    </table>
</body>
</html>
